/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.0/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
    id 'maven-publish'
}

allprojects {
	apply plugin: 'java-library'
	apply plugin: 'maven-publish'
	repositories {
    	jcenter()
	}
	java {
	    sourceCompatibility = 1.8
	    targetCompatibility = 1.8
	}
	dependencies {
	    testImplementation 'junit:junit:4.12'
    	testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.36'
	}
	task sourcesJar(type: Jar, dependsOn: classes) {
    	archiveClassifier = 'sources'
    	from sourceSets.main.allSource
	}
	task javadocJar(type: Jar, dependsOn: javadoc) {
    	archiveClassifier = 'javadoc'
    	from javadoc.destinationDir
	}
}

dependencies {
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.36'
}

publishing {
	publications {
        mavenJava(MavenPublication) {
            artifactId = 'jlib-netobjects'
            groupId = 'not.alexa'
            version = '0.9.1'
            from components.java
            artifact sourcesJar
            artifact javadocJar
        }
    }
    repositories {
        maven {
        	// Local only
        	url 'file://'+System.getProperty('user.home')+'/maven-repo'
        }
    }
}
